<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name='viewport' content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no'/>
	<title>WEBAPP IS LOADING</title>
	<style>
		yesscript { display: none; }
	</style>
</head>
<body>
	<h3>Woah there!</h3>

	<p>We are loading the resources and will get back to you in a bit.</p>

	<noscript>
		<p>Wait a minute and reload the page. Maybe all resources will be ready by then.</p>
	</noscript>

	<yesscript>
		<p>Don't need to keep reloading! This page will automatically reload in <span id="countdown">...</span></p>
	</yesscript>

	<script>
		document.styleSheets[0].addRule("yesscript", "display: initial");
	</script>
	<script>

		const countdownEl = document.getElementById("countdown");
		function renderCountdown() {
			countdownEl.innerText = `${countdown} seconds`;
		}

		let countdown = 30;
		setInterval(() => {
			countdown--;

			renderCountdown();

			if (countdown <= 0) {
				window.location.reload();
			}
		}, 1_000);

		renderCountdown();
	</script>
</body>
</html>
